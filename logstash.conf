input {
  # Input section: Define how Logstash should collect data
  # Example: Collecting syslog messages from a file
  file {
    path => "/var/log/syslog"
    start_position => "beginning"
  }
}

filter {
  # Filter section: Define how Logstash should process the data
  # Example: Using grok patterns to parse syslog messages
  grok {
    match => { "message" => "%{SYSLOGTIMESTAMP:timestamp} %{SYSLOGHOST:hostname} %{DATA:program}(?:\[%{POSINT:pid}\])?: %{GREEDYDATA:message}" }
  }

  # Example: Adding additional processing steps if needed
  # Example: Parsing JSON messages
  json {
    source => "message"
  }
}

output {
  # Output section: Define where Logstash should send the data
  # Example: Sending data to Elasticsearch
  elasticsearch {
    hosts => ["http://localhost:9200"]
    index => "logstash-%{+YYYY.MM.dd}"
  }

  # Example: Sending data to a file for debugging
  file {
    path => "/var/log/logstash_output.log"
  }
}
